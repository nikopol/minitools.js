// minitools.js 0.1
// ~L~ nikomomo@gmail.com 2012
// https://github.com/nikopol/minitools.js
var hash=function(){var b,c,e=function(){var a=[],d;for(d in b)a.push(d+"="+b[d]);c=a.join("|");document.location.hash="#"+c.replace(/ /g,"%20");return!0},f=function(){b={};c=document.location.hash.substr(1).replace(/%20/g," ");c.length&&c.split("|").forEach(function(a){a=a.split("=");1<a.length&&(b[a.shift()]=a.join("="))})};f();return{del:function(a){return a in b?!1:e(delete b[a])},set:function(a,d){return e("object"==typeof a?b=a:b[a]=d)},get:function(a){return void 0==a?b:(b[a]||"").replace(/%20/g," ")},onchange:function(a){window.onhashchange=function(){document.location.hash.substr(1).replace(/%20/g," ")!=c&&(f(),a&&a())}}}}(),hotkeys=function(){var b=!1,c={ESC:27,TAB:9,SPACE:32,RETURN:13,BACKSPACE:8,BS:8,SCROLL:145,CAPSLOCK:20,NUMLOCK:144,PAUSE:19,INSERT:45,DEL:46,HOME:36,END:35,PAGEUP:33,PAGEDOWN:34,LEFT:37,UP:38,RIGHT:39,DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},e={ALT:1,CONTROL:2,CTRL:2,SHIFT:4},f=[],a=function(a){a||(a=window.event);
var b,c,g=String.fromCharCode(a.which||a.charCode).toUpperCase(),h=a.shiftKey*e.SHIFT|a.ctrlKey*e.CTRL|a.altKey*e.ALT;for(b in f)if(c=f[b],(a.which==c.key||g==c.key)&&h==c.mask)if(c.glob||!/INPUT|SELECT|TEXTAREA/.test(document.activeElement.tagName))return c.fn(a),a.stopPropagation(),a.preventDefault(),!1;return!0};return{clear:function(){document.onkeydown=null;b=!1;f=[];return this},add:function(d,i,j){var g=0,h=0;"string"==typeof d&&(d=[d]);d.forEach(function(d){"string"==typeof d&&d.toUpperCase().split("+").forEach(function(a){e[a]?
g|=e[a]:h=c[a]?c[a]:a[0]});h?(f.push({key:h,fn:i,glob:j,mask:g||0}),b||(document.onkeydown=a,b=!0)):console.error("hotkey "+d+" unknown")});return this}}}(),browser=function(){var b={},c=navigator.userAgent;/MSIE\s([\d\.]+)/.test(c)&&(b.IE=parseFloat(RegExp.$1));c.replace(/\s\(.+\)/g,"").split(" ").forEach(function(c){/^(.+)\/(.+)$/.test(c)&&(b[RegExp.$1]=parseFloat(RegExp.$2))});return b}();
